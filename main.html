<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkinAura - Professional Skin Analysis</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
* {
    margin: 0;
    padding: 0;
}

:root{
      --navy:#0F2C59;
      --white:#FFFFFF;
      --charcoal:#334155;
      --border:#E2E8F0;
      --sage:#5C7B6F;
      --sage-hover:#4A6A5F;
      --muted:#64748B;
      --bg:#F8FAFC;
      --shadow:0 6px 18px rgba(15,44,89,0.08);
      --radius:12px;
      --radius-sm:8px;
      --radius-xs:6px;
      --focus:0 0 0 3px rgba(15,44,89,0.18);
    }

    /* Base */
    html,body{margin:0;padding:0;background:var(--bg);color:var(--charcoal);}
    body{font-family: Inter, Poppins, "Segoe UI", Roboto, "Helvetica Neue", Arial, system-ui, -apple-system, "Apple Color Emoji", "Segoe UI Emoji"; line-height:1.5;}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    button{font:inherit}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    .visually-hidden{position:absolute!important;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}

    /* Announcement bar */
    .announcement-bar{
      background:var(--navy); color:#fff; position:relative; z-index:50;
      font-size:0.85rem; user-select:none;
    }
    .announcement-inner{
      height:44px; display:flex; align-items:center; justify-content:center; gap:16px; position:relative;
    }
    .ann-arrow{
      width:28px; height:28px; border-radius:50%; display:grid; place-items:center; cursor:pointer;
      background:rgba(255,255,255,0.06); transition:opacity .2s ease, background .2s ease;
      opacity:.8; border:1px solid rgba(255,255,255,0.1)
    }
    .ann-arrow:hover{opacity:1; background:rgba(255,255,255,0.12)}
    .ann-msg{
      min-height:20px; text-align:center; white-space:nowrap;
      overflow:hidden; position:relative; max-width:90%;
    }
    .ann-text{
      display:inline-block; transition:transform .45s ease, opacity .45s ease;
    }
    .ann-dot{margin-right:8px}

    /* Header */
    .header{
      position:sticky; top:0; z-index:60; background:#fff; border-bottom:1px solid var(--border);
      transition: box-shadow .2s ease
    }
    .header.scrolled{box-shadow: var(--shadow)}
    .nav{
      height:80px; display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{
      display:flex; align-items:center; gap:10px; font-weight:700; color:var(--navy); letter-spacing:.2px;
    }
    .brand-icon{width:28px;height:28px}
    .brand small{color:var(--muted); font-weight:500; letter-spacing:.3px}
    .nav-center{display:flex; align-items:center; gap:22px}
    .nav-link{
      color:var(--charcoal); font-weight:500; font-size:1rem; padding:8px 6px; border-radius:6px; position:relative;
      transition: color .2s ease
    }
    .nav-link:hover{color:var(--navy)}
    .nav-link::after{
      content:""; position:absolute; left:8px; right:8px; bottom:4px; height:2px; background:transparent; transition:background .2s ease, transform .2s ease;
      transform:scaleX(0); transform-origin:left
    }
    .nav-link:hover::after{background:var(--navy); transform:scaleX(1)}
    .nav-right{display:flex; align-items:center; gap:14px}
    .btn-primary{
      background:var(--sage); color:#fff; border:none; padding:12px 18px; border-radius:6px; font-weight:600; cursor:pointer;
      display:inline-flex; align-items:center; gap:10px; transition: background .2s ease, transform .06s ease; letter-spacing:.2px;
      box-shadow: 0 6px 14px rgba(92,123,111,0.18);
    }
    .btn-primary:hover{background:var(--sage-hover)}
    .btn-primary:active{transform:translateY(1px)}
    .btn-icon{width:16px;height:16px}
    .icon-btn{
      width:40px;height:40px; border-radius:10px; display:grid; place-items:center; border:1px solid var(--border); background:#fff; cursor:pointer
    }
    .icon-btn:hover{box-shadow:var(--shadow)}
    .hamburger{display:none}

    /* Mega menu */
    .mega-wrap{position:relative}
    .mega-trigger{display:inline-flex; align-items:center; gap:8px}
    .chev{width:14px;height:14px; transition:transform .2s ease}
    .mega.open .chev{transform:rotate(180deg)}
    .mega{
      position:absolute; top:60px; left:0; background:#fff; border:1px solid var(--border); border-radius:12px;
      box-shadow: var(--shadow); padding:18px; display:none; opacity:0; transform:translateY(6px);
      transition: opacity .18s ease, transform .18s ease; min-width:560px
    }
    .mega.open{display:block; opacity:1; transform:translateY(0)}
    .mega-grid{display:grid; grid-template-columns:1fr 1fr; gap:18px}
    .mega-col h4{margin:6px 0 10px; font-size:.95rem; color:var(--navy)}
    .mega-item{
      display:flex; align-items:flex-start; gap:10px; padding:10px; border-radius:8px; transition: background .15s ease
    }
    .mega-item:hover{background:#F1F5F9}
    .mega-badge{font-size:.75rem; color:var(--muted)}

    /* Mobile menu */
    .mobile-toggle{display:none}
    .mobile-drawer{
      position:fixed; top:0; right:0; height:100dvh; width:80vw; max-width:400px; background:#fff; z-index:100; transform:translateX(100%);
      box-shadow: -16px 0 40px rgba(0,0,0,0.08); transition: transform .26s cubic-bezier(.2,.8,.2,1)
    }
    .mobile-drawer.open{transform:translateX(0)}
    .mobile-head{height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 16px; border-bottom:1px solid var(--border)}
    .mobile-body{padding:16px; display:flex; flex-direction:column; gap:10px; height:calc(100dvh - 64px - 80px); overflow:auto}
    .mobile-cta{position:fixed; right:0; bottom:0; width:56vw; max-width:400px; padding:14px; border-top:1px solid var(--border); background:#fff}
    .accordion{
      border:1px solid var(--border); border-radius:10px; overflow:hidden
    }
    .acc-head{
      display:flex; align-items:center; justify-content:space-between; padding:14px; cursor:pointer; font-weight:600; color:var(--navy);
      background:#F8FAFC
    }
    .acc-body{padding:8px 14px 14px; display:none}
    .acc-body.open{display:block}
    .acc-link{display:block; padding:10px 8px; border-radius:8px}
    .acc-link:hover{background:#F1F5F9}



       

       

        .demo-container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .demo-header {
            background: linear-gradient(135deg, #0F2C59 0%, #1E3A8A 100%);
            color: white;
            padding: 28px 40px;
            text-align: center;
        }

        .demo-header h2 {
            font-size: 2.2rem;
            margin-bottom: 12px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .demo-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            font-weight: 400;
        }

        .demo-content {
            display: flex;
            padding: 35px;
            gap: 35px;
        }

        .upload-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .upload-area {
            border: 2px dashed #e2e8f0;
            border-radius: 14px;
            padding: 32px;
            text-align: center;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .upload-area.active {
            border-color: #5c7b6f;
            background: rgba(92, 123, 111, 0.05);
        }

        .upload-icon {
            font-size: 3.2rem;
            color: #cbd5e1;
            margin-bottom: 18px;
        }

        .upload-area.active .upload-icon {
            color: #5c7b6f;
        }

        .upload-area h3 {
            color: #0f2c59;
            margin-bottom: 12px;
            font-size: 1.35rem;
            font-weight: 600;
        }

        .upload-area p {
            color: #64748b;
            margin-bottom: 22px;
            font-size: 1.05rem;
        }

        .upload-btn {
            background: linear-gradient(135deg, #5c7b6f 0%, #4a6a5f 100%);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05rem;
            box-shadow: 0 4px 12px rgba(92, 123, 111, 0.25);
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(92, 123, 111, 0.35);
        }

        .image-preview {
            border: 1px solid #e2e8f0;
            border-radius: 14px;
            overflow: hidden;
            height: 320px;
            background: #f8fafc;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .image-preview img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .analysis-controls {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .analyze-btn {
            background: linear-gradient(135deg, #0f2c59 0%, #1e3a8a 100%);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1.05rem;
            box-shadow: 0 4px 12px rgba(15, 44, 89, 0.25);
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(15, 44, 89, 0.35);
        }

        .analyze-btn:disabled {
            background: #e2e8f0;
            color: #94a3b8;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .analyze-next-btn {
            background: white;
            color: #5c7b6f;
            border: 2px solid #5c7b6f;
            padding: 16px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 1.05rem;
            box-shadow: 0 4px 12px rgba(92, 123, 111, 0.15);
        }

        .analyze-next-btn:hover {
            background: #5c7b6f;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(92, 123, 111, 0.25);
        }

        .result-section {
            flex: 1.2;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .result-placeholder {
            background: #f8fafc;
            border-radius: 14px;
            padding: 45px 28px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .placeholder-icon {
            font-size: 3.2rem;
            color: #cbd5e1;
            margin-bottom: 22px;
        }

        .result-placeholder h3 {
            color: #0f2c59;
            margin-bottom: 16px;
            font-size: 1.6rem;
            font-weight: 600;
        }

        .result-placeholder p {
            color: #64748b;
            font-size: 1.05rem;
        }

        .analysis-progress {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 22px;
            padding: 45px 28px;
            text-align: center;
            background: #f8fafc;
            border-radius: 14px;
            height: 100%;
        }

        .progress-circle {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            background: #f0f9ff;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .progress-circle::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 3px solid #0ea5e9;
            border-top-color: transparent;
            animation: spin 1.2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-text {
            color: #0f2c59;
            font-weight: 600;
            font-size: 1.15rem;
        }

        .analysis-result {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 14px;
            padding: 28px;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 18px;
            border-bottom: 1px solid #e2e8f0;
        }

        .result-header h3 {
            color: #0f2c59;
            font-size: 1.6rem;
            font-weight: 600;
        }

        .confidence-label {
            background: #f0f9ff;
            color: #0ea5e9;
            padding: 7px 16px;
            border-radius: 20px;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .findings-container {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .findings-container h4 {
            color: #0f2c59;
            font-size: 1.35rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .concern-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 18px;
        }

        .concern-item {
            background: #f8fafc;
            border-radius: 12px;
            padding: 18px;
            display: flex;
            flex-direction: column;
            gap: 14px;
            transition: transform 0.2s ease;
        }

        .concern-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
        }

        .concern-image {
            position: relative;
            height: 170px;
            border-radius: 10px;
            overflow: hidden;
            background: #e2e8f0;
        }

        .concern-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .issue-marker {
            position: absolute;
            width: 26px;
            height: 26px;
            border: 2px solid #ff3b30;
            border-radius: 50%;
            background: rgba(255, 59, 48, 0.2);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .concern-details {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .concern-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .concern-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.95rem;
        }

        .concern-icon.acne {
            background: #f87171;
        }

        .concern-icon.hyperpigmentation {
            background: #a16207;
        }

        .concern-icon.dryness {
            background: #0ea5e9;
        }

        .concern-details h5 {
            color: #0f2c59;
            font-size: 1.15rem;
            font-weight: 600;
        }

        .concern-details p {
            color: #64748b;
            font-size: 0.92rem;
            line-height: 1.5;
        }

        .severity-label {
            padding: 5px 14px;
            border-radius: 18px;
            font-size: 0.85rem;
            font-weight: 600;
            align-self: flex-start;
        }

        .severity-label.mild {
            background: #dcfce7;
            color: #16a34a;
        }

        .severity-label.moderate {
            background: #fef3c7;
            color: #d97706;
        }

        .severity-label.severe {
            background: #fee2e2;
            color: #dc2626;
        }

        .solutions-container {
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        .solutions-container h4 {
            color: #0f2c59;
            font-size: 1.35rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .solution-tabs {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 18px;
        }

        .tab-btn {
            background: none;
            border: none;
            padding: 14px 22px;
            cursor: pointer;
            color: #64748b;
            font-weight: 500;
            font-size: 1.05rem;
            position: relative;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            color: #0f2c59;
            font-weight: 600;
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #5c7b6f;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 18px;
        }

        .solution-item, .product-item {
            background: #f8fafc;
            border-radius: 12px;
            padding: 18px;
            display: flex;
            flex-direction: column;
            gap: 14px;
            transition: transform 0.2s ease;
        }

        .solution-item:hover, .product-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
        }

        .solution-header, .product-header {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .solution-icon {
            width: 46px;
            height: 46px;
            border-radius: 50%;
            background: #5c7b6f;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
        }

        .product-image {
            width: 56px;
            height: 56px;
            border-radius: 10px;
            background: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-size: 1.4rem;
        }

        .solution-details h5, .product-details h5 {
            color: #0f2c59;
            font-size: 1.15rem;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .solution-details p, .product-details p {
            color: #64748b;
            font-size: 0.92rem;
            line-height: 1.5;
        }

        .product-price {
            color: #5c7b6f;
            font-weight: 700;
            font-size: 1.15rem;
            margin-top: 8px;
        }

        .error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 12px;
            padding: 28px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 18px;
        }

        .error-icon {
            font-size: 3.2rem;
            color: #ef4444;
        }

        .error-message h3 {
            color: #dc2626;
            font-size: 1.6rem;
            font-weight: 600;
        }

        .error-message p {
            color: #64748b;
            font-size: 1.05rem;
            max-width: 480px;
            margin: 0 auto;
        }

        .hidden {
            display: none;
        }

        /* Face detection indicator */
        .face-detection {
            position: absolute;
            top: 18px;
            right: 18px;
            background: rgba(255, 255, 255, 0.95);
            padding: 9px 14px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            gap: 7px;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
            z-index: 10;
            font-size: 0.95rem;
        }

        .face-detection.success {
            color: #16a34a;
        }

        .face-detection.error {
            color: #dc2626;
        }

        /* Responsive styles */
        @media (max-width: 1200px) {
            .demo-content {
                flex-direction: column;
            }
            
            .concern-list, .tab-content.active {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .demo-header {
                padding: 24px 28px;
            }
            
            .demo-header h2 {
                font-size: 1.9rem;
            }
            
            .demo-header p {
                font-size: 1.05rem;
            }
            
            .demo-content {
                padding: 28px;
                gap: 28px;
            }
            
            .upload-area, .analysis-result {
                padding: 24px;
            }
            
            .result-header {
                flex-direction: column;
                gap: 14px;
                text-align: center;
            }
            
            .solution-tabs {
                flex-direction: column;
            }
            
            .tab-btn {
                width: 100%;
                text-align: center;
            }
            
            .face-detection {
                top: 12px;
                right: 12px;
            }
        }
        
        @media (max-width: 480px) {
            body {margin: 0;
                padding: 0px;
            }
            
            .demo-header {
                padding: 20px;
            }
            
            .demo-content {
                padding: 20px;
            }
            
            .upload-area, .analysis-result, .error-message {
                padding: 20px;
            }
            
            .upload-area h3 {
                font-size: 1.2rem;
            }

            .upload-area p {
                font-size: 0.95rem;
            }

            .upload-btn, .analyze-btn, .analyze-next-btn {
                font-size: 1rem;
                padding: 12px 20px;
            }

            .result-header h3 {
                font-size: 1.4rem;
            }

            .confidence-label {
                font-size: 0.85rem;
                padding: 5px 12px;
            }

            .findings-container h4, .solutions-container h4 {
                font-size: 1.2rem;
            }

        }











/* Footer Styles */
        footer {
            background: linear-gradient(135deg, #1e3a8a 0%, #0e7490 100%);
            color: white;
            padding: 60px 0 20px;
            position: relative;
            overflow: hidden;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        
        .footer-column {
            flex: 1;
            min-width: 220px;
            margin-bottom: 40px;
            padding: 0 15px;
        }
        
        .footer-column h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
        }
        
        .footer-column h3:after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -8px;
            width: 40px;
            height: 3px;
            background-color: #34d399;
            border-radius: 2px;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 12px;
        }
        
        .footer-links a {
            color: #e2e8f0;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .footer-links a:hover {
            color: white;
            transform: translateX(5px);
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }
        
        .contact-info {
            list-style: none;
        }
        
        .contact-info li {
            margin-bottom: 15px;
            
            align-items: flex-start;
        }
        
        .contact-info i {
            margin-right: 12px;
            font-size: 18px;
            color: #34d399;
            margin-top: 3px;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .social-icons a:hover {
            background-color: #34d399;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(52, 211, 153, 0.4);
        }
        
        .trust-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 25px 0;
        }
        
        .fbadge {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
            cursor: default;
        }
        
        .fbadge:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        .fbadge i {
            margin-right: 8px;
            color: #34d399;
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 0 auto;
            padding: 25px 20px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            font-size: 0.9rem;
            color: #cbd5e1;
        }
        
        .footer-bottom p {
            margin-bottom: 10px;
        }
        
        .legal-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .legal-links a {
            color: #cbd5e1;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .legal-links a:hover {
            color: white;
            text-decoration: underline;
        }
        
        .decoration-circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.03);
        }
        
        .circle-1 {
            width: 300px;
            height: 300px;
            top: -150px;
            right: -100px;
        }
        
        .circle-2 {
            width: 200px;
            height: 200px;
            bottom: -50px;
            left: -50px;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            opacity: 0;
            animation: fadeIn 0.8s ease forwards;
        }
        
        .delay-1 {
            animation-delay: 0.2s;
        }
        
        .delay-2 {
            animation-delay: 0.4s;
        }
        
        .delay-3 {
            animation-delay: 0.6s;
        }
        
        .delay-4 {
            animation-delay: 0.8s;
        }
        
        /* Responsive Design */
        @media (max-width: 992px) {
            .footer-column {
                flex: 0% 0 50%;
            }
        }
        
        @media (max-width: 576px) {
            .footer-column {
                flex: 0 0 100%;
               
            }
            
            .footer-column h3:after {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .trust-badges {
                justify-content: center;
            }
            
            .social-icons {
                justify-content: center;
            }
            
            .contact-info li {
                justify-content: center;
            }
        }























    /* Results */
    .results{padding:28px 0}
    .card{
      background:#fff; border:1px solid var(--border); border-radius:var(--radius); box-shadow: var(--shadow); padding:18px; margin-top:16px
    }
    .chips{display:flex; gap:8px; flex-wrap:wrap}
    .chip{background:#F1F5F9; color:#0F172A; border:1px solid #E2E8F0; border-radius:999px; padding:6px 10px; font-weight:600; font-size:.85rem}
    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    .list{margin:10px 0; padding-left:18px}
    .list li{margin:6px 0}
    .label{font-weight:700; color:var(--navy); margin:0 0 6px}
    .muted{color:var(--muted)}
    .prod{
      border:1px solid var(--border); border-radius:10px; padding:12px; display:flex; align-items:flex-start; gap:12px
    }
    .prod .tag{background:#EEF2FF; color:#3730A3; border:1px solid #CBD5E1; padding:3px 8px; border-radius:999px; font-weight:700; font-size:.75rem}

    /* Sections */
    .section{padding:48px 0}
    .section h2{color:var(--navy); margin:0 0 8px}
    .section p{color:var(--muted); margin:0 0 10px}

    
    /* Responsive */
    @media (max-width: 1024px){
      .steps {
                flex-direction: column;
                gap: 20px;
            }
      .hero-inner{grid-template-columns:1fr; padding:32px 0}
      .nav-center{display:none}
      .nav-right .icon-btn.profile{display:none}
      .hamburger{display:block}
      .mobile-toggle{display:block}
    }
    @media (max-width: 720px){
      .grid-2{grid-template-columns:1fr}
      .preview{grid-template-columns:80px 1fr}
      .avatar{width:80px;height:80px}
      .foot-grid{grid-template-columns:1fr 1fr}
    }
    @media (max-width: 460px){
      .foot-grid{grid-template-columns:1fr}
    }

    /* Focus visible */
    :focus-visible{outline:none; box-shadow: var(--focus)}


















    </style>
</head>
<body>













<!-- Announcement Bar -->
  <div class="announcement-bar" role="region" aria-label="Announcements">
    <div class="container announcement-inner" id="annBar">
      <button class="ann-arrow" id="annPrev" aria-label="Previous announcement">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="#fff" style="opacity:.9" aria-hidden="true">
          <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
        </svg>
      </button>
      <div class="ann-msg" aria-live="polite">
        <span class="ann-text" id="annText">üîí Secure & Confidential Analysis.</span>
      </div>
      <button class="ann-arrow" id="annNext" aria-label="Next announcement">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="#fff" style="opacity:.9" aria-hidden="true">
          <path d="M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6z"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Header / Navigation -->
  <header class="header" id="header">
    <div class="container nav">
      <a href="#" class="brand" aria-label="AyurSkin AI home">
        <svg class="brand-icon" viewBox="0 0 48 48" aria-hidden="true">
          <defs>
            <linearGradient id="leaf" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#5C7B6F"/>
              <stop offset="100%" stop-color="#7FA392"/>
            </linearGradient>
          </defs>
          <path fill="url(#leaf)" d="M40 8c-8 2-22 6-28 12S6 36 8 40s12 0 20-8S38 16 40 8z"/>
          <circle cx="20" cy="20" r="2" fill="#0F2C59"/>
        </svg>
        <span>AyurSkin‚Ñ¢Ô∏è</span>
        <small></small>
      </a>

      <nav class="nav-center" aria-label="Primary">
        <a class="nav-link" href="#how-it-works">How It Works</a>

        <div class="mega-wrap" id="megaWrap">
          <a href="javascript:void(0)" class="nav-link mega-trigger" id="megaTrigger" aria-haspopup="true" aria-expanded="false">
            Our Solutions
            <svg class="chev" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6z"/></svg>
          </a>
          <div class="mega" id="megaMenu" role="menu" aria-label="Our Solutions menu">
            <div class="mega-grid">
              <div class="mega-col">
                <h4>Common Concerns</h4>
                <a class="mega-item" href="#concerns">
                  <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="8" fill="#F59E0B"/></svg>
                  <div>
                    <div>Acne & Pimples</div>
                    <div class="mega-badge">Breakouts, whiteheads, blackheads</div>
                  </div>
                </a>
                <a class="mega-item" href="#concerns">
                  <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><rect x="4" y="4" width="16" height="16" rx="4" fill="#6B7280"/></svg>
                  <div>
                    <div>Dark Spots & Pigmentation</div>
                    <div class="mega-badge">Post-acne marks, sun spots</div>
                  </div>
                </a>
                <a class="mega-item" href="#concerns">
                  <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 12h16" stroke="#334155" stroke-width="2"/><path d="M4 16h10" stroke="#94A3B8" stroke-width="2"/></svg>
                  <div>
                    <div>Dull Skin & Texture</div>
                    <div class="mega-badge">Uneven tone, roughness</div>
                  </div>
                </a>
              </div>
              <div class="mega-col">
                <h4>Our Approach</h4>
                <a class="mega-item" href="#approach">
                  <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4zM14 14h6v6h-6z" fill="#0F2C59"/></svg>
                  <div>
                    <div>AI Technology</div>
                    <div class="mega-badge">Fast, consistent assessments</div>
                  </div>
                </a>
                <a class="mega-item" href="#approach">
                  <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M5 12c4-6 10-6 14 0-4 6-10 6-14 0z" fill="#5C7B6F"/></svg>
                  <div>
                    <div>Ayurvedic Philosophy</div>
                    <div class="mega-badge">Balanced, natural care</div>
                  </div>
                </a>
                <a class="mega-item" href="#ingredients">
                  <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><circle cx="8" cy="8" r="4" fill="#86EFAC"/><circle cx="16" cy="16" r="4" fill="#A7F3D0"/></svg>
                  <div>
                    <div>Ingredient Library</div>
                    <div class="mega-badge">Know what‚Äôs inside</div>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>

        <a class="nav-link" href="#testimonials">Testimonials</a>
        <a class="nav-link" href="#blog">Blog / Guides</a>
      </nav>

      <div class="nav-right">
        <a href="main.html"><button class="btn-primary" id="ctaTop">
          <span>Analyze My Skin</span>
          <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="#fff" d="M12 4l1.41 1.41L8.83 10H20v2H8.83l4.58 4.59L12 18l-8-8z"/></svg>
        </button></a>
        <button class="icon-btn profile" aria-label="Open account">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#0F2C59" d="M12 12a5 5 0 1 0-5-5 5 5 0 0 0 5 5zm0 2c-4.42 0-8 2.24-8 5v1h16v-1c0-2.76-3.58-5-8-5z"/></svg>
        </button>
        <button class="icon-btn hamburger mobile-toggle" id="hamburger" aria-label="Open menu" aria-controls="mobileDrawer" aria-expanded="false">
          <svg id="hambIcon" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
            <path id="hambLine1" d="M4 6h16" stroke="#0F2C59" stroke-width="2" stroke-linecap="round"/>
            <path id="hambLine2" d="M4 12h16" stroke="#0F2C59" stroke-width="2" stroke-linecap="round"/>
            <path id="hambLine3" d="M4 18h16" stroke="#0F2C59" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Drawer -->
    <aside class="mobile-drawer" id="mobileDrawer" aria-hidden="true">
      <div class="mobile-head">
        <div class="brand" style="gap:8px">
          <svg class="brand-icon" viewBox="0 0 48 48" aria-hidden="true">
            <defs><linearGradient id="leaf2" x1="0" x2="1" y1="0" y2="1"><stop offset="0%" stop-color="#5C7B6F"/><stop offset="100%" stop-color="#7FA392"/></linearGradient></defs>
            <path fill="url(#leaf2)" d="M40 8c-8 2-22 6-28 12S6 36 8 40s12 0 20-8S38 16 40 8z"/>
          </svg>
          <strong style="color:var(--navy)">AyurSkin AI</strong>
        </div>
        <button class="icon-btn mobile-toggle" id="drawerClose" aria-label="Close menu">
          <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true"><path d="M18 6 6 18M6 6l12 12" stroke="#0F2C59" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </div>
      <div class="mobile-body">
        <a class="acc-link" href="#how-it-works">How It Works</a>

        <div class="accordion">
          <div class="acc-head" data-acc="solutions">Our Solutions
            <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true"><path d="M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6z" fill="#0F2C59"/></svg>
          </div>
          <div class="acc-body" id="acc-solutions">
            <div class="label">Common Concerns</div>
            <a class="acc-link" href="#concerns">Acne & Pimples</a>
            <a class="acc-link" href="#concerns">Dark Spots & Pigmentation</a>
            <a class="acc-link" href="#concerns">Dull Skin & Texture</a>
            <div class="label" style="margin-top:10px">Our Approach</div>
            <a class="acc-link" href="#approach">AI Technology</a>
            <a class="acc-link" href="#approach">Ayurvedic Philosophy</a>
            <a class="acc-link" href="#ingredients">Ingredient Library</a>
          </div>
        </div>

        <a class="acc-link" href="#testimonials">Testimonials</a>
        <a class="acc-link" href="#blog">Blog / Guides</a>
      </div>
      <div class="mobile-cta">
        <button class="btn-primary" style="width:100%; "   id="ctaMobile">
          <span><a href="main.html">Analyze My Skin</a></span>
          <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true"><path fill="#fff" d="M12 4l1.41 1.41L8.83 10H20v2H8.83l4.58 4.59L12 18l-8-8z"/></svg>
        </button>
      </div>
    </aside>
  </header>























    <div class="demo-container">
        <div class="demo-header">
            <h2>Professional Skin Analysis</h2>
            <p>Upload your photo to receive AI-powered skin analysis with personalized Ayurvedic solutions</p>
        </div>
        
        <div class="demo-content">
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt upload-icon"></i>
                    <h3>Upload Your Photo</h3>
                    <p>For accurate results, use a clear, well-lit front-facing photo</p>
                    <label for="fileInput" class="upload-btn">
                        <i class="fas fa-upload"></i> Select Image
                    </label>
                    <input type="file" id="fileInput" accept="image/*" hidden>
                    <p class="privacy-note"><i class="fas fa-shield-alt"></i> Your photo is processed securely and never stored</p>



<input id="file" type="file" accept="image/*">
<img id="preview" style="max-width:320px; display:block;">
<button id="analyseBtn" disabled>Analyse now</button>


                    
                </div>
                <input id="file" type="file" accept="image/*">



                
                <div class="image-preview hidden" id="imagePreview">
                    <img id="previewImage" src="" alt="Preview">
                    <div class="face-detection hidden" id="faceDetection">
                        <i class="fas fa-check-circle"></i>
                        <span>Face Detected</span>
                    </div>
                </div>
                
                <div class="analysis-controls">
                    <button class="analyze-btn hidden" id="analyzeBtn" disabled>
                        <i class="fas fa-search"></i> Analyze Now
                    </button>
                    
                    <button class="analyze-next-btn hidden" id="analyzeNextBtn">
                        <i class="fas fa-redo"></i> Analyze Another Image
                    </button>
                </div>
            </div>
            
            <div class="result-section">
                <div class="result-placeholder" id="resultPlaceholder">
                    <i class="fas fa-microscope placeholder-icon"></i>
                    <h3>Analysis Results Will Appear Here</h3>
                    <p>Upload a photo to see detailed skin analysis and recommendations</p>
                </div>
                
                <div class="analysis-progress hidden" id="analysisProgress">
                    <div class="progress-circle"></div>
                    <p class="progress-text">Analyzing your skin...</p>
                </div>
                
                <div class="error-message hidden" id="errorMessage">
                    <i class="fas fa-exclamation-circle error-icon"></i>
                    <h3>Face Not Detected</h3>
                    <p>We couldn't detect a face in your photo. Please make sure you're using a clear, front-facing image with good lighting.</p>
                    <button class="analyze-next-btn" id="errorNextBtn">
                        <i class="fas fa-redo"></i> Try Another Image
                    </button>
                </div>
                
                <div class="analysis-result hidden" id="analysisResult">
                    <div class="result-header">
                        <h3>Analysis Complete</h3>
                        <div class="confidence-label">94% Confidence</div>
                    </div>
                    
                    <div class="findings-container">
                        <h4>Detected Skin Concerns</h4>
                        <div class="concern-list">
                            <div class="concern-item">
                                <div class="concern-image">
                                    <img id="acneImage" src="" alt="Acne areas">
                                    <div class="issue-marker" style="top: 30%; left: 40%;"></div>
                                    <div class="issue-marker" style="top: 45%; left: 60%;"></div>
                                    <div class="issue-marker" style="top: 35%; left: 55%;"></div>
                                </div>
                                <div class="concern-details">
                                    <div class="concern-title">
                                        <div class="concern-icon acne"><i class="fas fa-circle"></i></div>
                                        <h5>Acne & Blemishes</h5>
                                    </div>
                                    <p>Moderate inflammatory acne with active blemishes detected</p>
                                    <div class="severity-label moderate">Moderate</div>
                                </div>
                            </div>
                            
                            <div class="concern-item">
                                <div class="concern-image">
                                    <img id="spotsImage" src="" alt="Dark spots">
                                    <div class="issue-marker" style="top: 50%; left: 45%;"></div>
                                    <div class="issue-marker" style="top: 55%; left: 35%;"></div>
                                </div>
                                <div class="concern-details">
                                    <div class="concern-title">
                                        <div class="concern-icon hyperpigmentation"><i class="fas fa-circle"></i></div>
                                        <h5>Dark Spots</h5>
                                    </div>
                                    <p>Post-inflammatory hyperpigmentation from previous breakouts</p>
                                    <div class="severity-label mild">Mild</div>
                                </div>
                            </div>
                            
                            <div class="concern-item">
                                <div class="concern-image">
                                    <img id="drynessImage" src="" alt="Dry areas">
                                    <div class="issue-marker" style="top: 70%; left: 50%;"></div>
                                    <div class="issue-marker" style="top: 75%; left: 40%;"></div>
                                </div>
                                <div class="concern-details">
                                    <div class="concern-title">
                                        <div class="concern-icon dryness"><i class="fas fa-circle"></i></div>
                                        <h5>Dryness & Dehydration</h5>
                                    </div>
                                    <p>Skin barrier impairment with mild flaking and tightness</p>
                                    <div class="severity-label mild">Mild</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="solutions-container">
                        <h4>Recommended Solutions</h4>
                        <div class="solution-tabs">
                            <button class="tab-btn active" data-tab="remedies">Ayurvedic Remedies</button>
                            <button class="tab-btn" data-tab="products">Recommended Products</button>
                        </div>
                        
                        <div class="tab-content remedies active">
                            <div class="solution-item">
                                <div class="solution-header">
                                    <div class="solution-icon"><i class="fas fa-mortar-pestle"></i></div>
                                    <div class="solution-details">
                                        <h5>Neem & Turmeric Face Pack</h5>
                                        <p>Anti-inflammatory treatment to reduce acne and prevent breakouts</p>
                                    </div>
                                </div>
                                <p><strong>How to use:</strong> Mix 1 tsp neem powder, ¬Ω tsp turmeric, and rose water. Apply twice weekly.</p>
                            </div>
                            
                            <div class="solution-item">
                                <div class="solution-header">
                                    <div class="solution-icon"><i class="fas fa-seedling"></i></div>
                                    <div class="solution-details">
                                        <h5>Aloe Vera & Honey Moisturizer</h5>
                                        <p>Natural hydrator to soothe dryness and restore skin barrier</p>
                                    </div>
                                </div>
                                <p><strong>How to use:</strong> Apply fresh aloe vera gel with a few drops of honey daily.</p>
                            </div>
                            
                            <div class="solution-item">
                                <div class="solution-header">
                                    <div class="solution-icon"><i class="fas fa-spa"></i></div>
                                    <div class="solution-details">
                                        <h5>Sandalwood & Rosewater Paste</h5>
                                        <p>Reduces dark spots and evens out skin tone</p>
                                    </div>
                                </div>
                                <p><strong>How to use:</strong> Mix sandalwood powder with rosewater, apply for 15 minutes, then rinse.</p>
                            </div>
                        </div>
                        
                        <div class="tab-content products">
                            <div class="product-item">
                                <div class="product-header">
                                    <div class="product-image"><i class="fas fa-pump-soap"></i></div>
                                    <div class="product-details">
                                        <h5>Neem Infused Face Wash</h5>
                                        <p>Deep cleans without stripping natural oils</p>
                                        <div class="product-price">$24.99</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="product-item">
                                <div class="product-header">
                                    <div class="product-image"><i class="fas fa-tint"></i></div>
                                    <div class="product-details">
                                        <h5>Turmeric Spot Correction Serum</h5>
                                        <p>Targets dark spots and hyperpigmentation</p>
                                        <div class="product-price">$29.99</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="product-item">
                                <div class="product-header">
                                    <div class="product-image"><i class="fas fa-cloud-rain"></i></div>
                                    <div class="product-details">
                                        <h5>Aloe Hydrating Moisturizer</h5>
                                        <p>Provides 24-hour hydration for dry skin</p>
                                        <div class="product-price">$32.99</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>







    <!-- Footer -->
  <footer style="*{margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif;}">
        <div class="decoration-circle circle-1"></div>
        <div class="decoration-circle circle-2"></div>
        
        <div class="footer-container">
            <div class="footer-column fade-in">
                <h3>About Us</h3>
                <p>We provide natural, dermatologist-approved skincare solutions that combine ancient Ayurvedic wisdom with modern technology.</p>
                <div class="trust-badges">
                    <div class="fbadge">
                        <i class="fas fa-certificate"></i>
                        <span>Certified Experts</span>
                    </div>
                    <div class="fbadge">
                        <i class="fas fa-shield-alt"></i>
                        <span>Data Privacy</span>
                    </div>
                </div>
            </div>
            
            <div class="footer-column fade-in delay-1">
                <h3>Services</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Face Analysis</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Ayurvedic Care</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Products</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Consultation</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Treatment Plans</a></li>
                </ul>
            </div>
            
            <div class="footer-column fade-in delay-2">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Blog</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> FAQs</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Privacy Policy</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Terms of Service</a></li>
                    <li><a href="#"><i class="fas fa-arrow-right"></i> Learning Center</a></li>
                </ul>
            </div>
            
            <div class="footer-column fade-in delay-3">
                <h3>Contact</h3>
                <ul class="contact-info">
                    <li>
                        <i class="fas fa-envelope"></i>
                        <span>support@clearskin.com</span>
                    </li>
                    <li>
                        <i class="fas fa-phone-alt"></i>
                        <span>+1 (800) 123-4567</span>
                    </li>
                    <li>
                        <i class="fab fa-whatsapp"></i>
                        <span>+1 (800) 123-WHATSAPP</span>
                    </li>
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span>123 Wellness St, Health City</span>
                    </li>
                </ul>
                
                <div class="social-icons">
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom fade-in delay-4">
            <p>¬© 2023 ClearSkin Natural. All rights reserved.</p>
            <p><strong>Disclaimer:</strong> Our services are not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician with any questions you may have regarding a medical condition.</p>
            
            <div class="legal-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Cookie Policy</a>
                <a href="#">Accessibility</a>
            </div>
        </div>
    </footer>

    <script>





src="https://cdn.jsdelivr.net/npm/@vladmandic/face-api/dist/face-api.min.js"></script>
<script>
const fileInput = document.getElementById('file');
const img = document.getElementById('preview');
const btn = document.getElementById('analyseBtn');

async function loadModels() {
  // point to models folder hosted by you or use a CDN copy
  await faceapi.nets.tinyFaceDetector.loadFromUri('/models');
  // other models if needed
}
loadModels();

fileInput.onchange = async (e) => {
  const file = e.target.files[0];
  if (!file) return;
  img.src = URL.createObjectURL(file);
  img.onload = async () => {
    // run detection
    const detection = await faceapi.detectSingleFace(img, new faceapi.TinyFaceDetectorOptions());
    if (detection) {
      btn.disabled = false;
      btn.dataset.filename = file.name; // we will upload when pressed
    } else {
      btn.disabled = true;
      alert('No face detected ‚Äî please upload a clear close-up of the face.');
    }
  };
};

btn.onclick = async () => {
  // send form data with image to your backend
  const file = fileInput.files[0];
  const fd = new FormData();
  fd.append('image', file);
  // include landmarks if you used FaceMesh
  const res = await fetch('/api/analyze', { method:'POST', body: fd });
  const json = await res.json();
  // render results
  console.log(json);
  // show structured output to user
};














        
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const imagePreview = document.getElementById('imagePreview');
            const previewImage = document.getElementById('previewImage');
            const faceDetection = document.getElementById('faceDetection');
            const analyzeBtn = document.getElementById('analyzeBtn');
            const analyzeNextBtn = document.getElementById('analyzeNextBtn');
            const errorNextBtn = document.getElementById('errorNextBtn');
            const resultPlaceholder = document.getElementById('resultPlaceholder');
            const analysisProgress = document.getElementById('analysisProgress');
            const analysisResult = document.getElementById('analysisResult');
            const errorMessage = document.getElementById('errorMessage');
            const tabBtns = document.querySelectorAll('.tab-btn');
            const acneImage = document.getElementById('acneImage');
            const spotsImage = document.getElementById('spotsImage');
            const drynessImage = document.getElementById('drynessImage');
            
            // Face detection patterns (simulated)
            const FACE_PATTERNS = [
                'face', 'person', 'portrait', 'selfie', 'profile', 'facial',
                'woman', 'man', 'girl', 'boy', 'female', 'male'
            ];
            
            // Non-face patterns
            const NON_FACE_PATTERNS = [
                'watch', 'clock', 'wrist', 'object', 'landscape', 'building',
                'animal', 'pet', 'car', 'vehicle', 'food', 'dish', 'nature'
            ];
            
            // Event listeners
            fileInput.addEventListener('change', handleFileSelect);
            analyzeBtn.addEventListener('click', analyzeImage);
            analyzeNextBtn.addEventListener('click', resetAnalysis);
            errorNextBtn.addEventListener('click', resetAnalysis);
            
            // Tab functionality
            tabBtns.forEach(function(btn) {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    tabBtns.forEach(function(b) {
                        b.classList.remove('active');
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Hide all tab content
                    document.querySelectorAll('.tab-content').forEach(function(tab) {
                        tab.classList.remove('active');
                    });
                    
                    // Show selected tab content
                    const tabName = this.getAttribute('data-tab');
                    document.querySelector(`.tab-content.${tabName}`).classList.add('active');
                });
            });
            
            // Handle file selection
            function handleFileSelect(e) {
                if (e.target.files && e.target.files[0]) {
                    const file = e.target.files[0];
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        previewImage.src = e.target.result;
                        // Also set the source for the concern images
                        acneImage.src = e.target.result;
                        spotsImage.src = e.target.result;
                        drynessImage.src = e.target.result;
                        
                        uploadArea.classList.add('hidden');
                        imagePreview.classList.remove('hidden');
                        
                        // Simulate face detection based on file name and type
                        simulateFaceDetection(file);
                    };
                    
                    reader.readAsDataURL(file);
                }
            }
            
            // Simulate face detection based on file properties
            function simulateFaceDetection(file) {
                // Show detecting message
                faceDetection.classList.remove('hidden');
                faceDetection.classList.remove('success', 'error');
                faceDetection.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i><span>Detecting face...</span>';
                
                // Extract file name without extension
                const fileName = file.name.toLowerCase().replace(/\.[^/.]+$/, "");
                
                // Check if file name suggests it's a face image
                const hasFacePattern = FACE_PATTERNS.some(pattern => fileName.includes(pattern));
                const hasNonFacePattern = NON_FACE_PATTERNS.some(pattern => fileName.includes(pattern));
                
                // Check if image is likely a portrait (by dimensions)
                const img = new Image();
                img.onload = function() {
                    const isPortrait = img.width < img.height;
                    const isSquare = Math.abs(img.width - img.height) < 50;
                    
                    // Simulate detection process
                    setTimeout(() => {
                        // More sophisticated detection simulation
                        let isFace = false;
                        
                        // Rule 1: If filename contains face-related terms, it's likely a face
                        if (hasFacePattern) {
                            isFace = true;
                        }
                        // Rule 2: If filename contains non-face terms, it's likely not a face
                        else if (hasNonFacePattern) {
                            isFace = false;
                        }
                        // Rule 3: If image is portrait orientation, more likely to be a face
                        else if (isPortrait || isSquare) {
                            // 80% chance for portrait images to be faces
                            isFace = Math.random() < 0.8;
                        }
                        // Rule 4: Landscape images are less likely to be faces
                        else {
                            // 20% chance for landscape images to be faces
                            isFace = Math.random() < 0.2;
                        }
                        
                        if (isFace) {
                            // Face detected
                            faceDetection.classList.add('success');
                            faceDetection.innerHTML = '<i class="fas fa-check-circle"></i><span>Face Detected</span>';
                            analyzeBtn.disabled = false;
                            analyzeBtn.classList.remove('hidden');
                        } else {
                            // Face not detected
                            faceDetection.classList.add('error');
                            faceDetection.innerHTML = '<i class="fas fa-times-circle"></i><span>No Face Detected</span>';
                            analyzeBtn.classList.add('hidden');
                            
                            // Show error message after a delay
                            setTimeout(() => {
                                resultPlaceholder.classList.add('hidden');
                                errorMessage.classList.remove('hidden');
                                analyzeNextBtn.classList.remove('hidden');
                            }, 1500);
                        }
                    }, 2000);
                };
                img.src = URL.createObjectURL(file);
            }
            
            // Analyze the image
            function analyzeImage() {
                // Show progress, hide other elements
                analyzeBtn.classList.add('hidden');
                resultPlaceholder.classList.add('hidden');
                analysisProgress.classList.remove('hidden');
                
                // Simulate analysis process
                setTimeout(() => {
                    // Show results
                    analysisProgress.classList.add('hidden');
                    analysisResult.classList.remove('hidden');
                    analyzeNextBtn.classList.remove('hidden');
                }, 3000); // Simulate 3 second analysis
            }
            
            // Reset for next analysis
            function resetAnalysis() {
                // Reset file input
                fileInput.value = '';
                
                // Reset UI elements
                analyzeBtn.disabled = true;
                analyzeNextBtn.classList.add('hidden');
                analysisResult.classList.add('hidden');
                errorMessage.classList.add('hidden');
                imagePreview.classList.add('hidden');
                faceDetection.classList.add('hidden');
                uploadArea.classList.remove('hidden');
                resultPlaceholder.classList.remove('hidden');
            }
            
            // Drag and drop functionality
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = '#5c7b6f';
                this.style.backgroundColor = rgba(92, 123, 111, 0.05);
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.style.borderColor = '#e2e8f0';
                this.style.backgroundColor = '#f8fafc';
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = '#e2e8f0';
                this.style.backgroundColor = '#f8fafc';
                
                if (e.dataTransfer.files && e.dataTransfer.files[0]) {
                    fileInput.files = e.dataTransfer.files;
                    const event = new Event('change');
                    fileInput.dispatchEvent(event);
                }
            });
        });



















        // Utils
    const $ = (sel, ctx=document)=>ctx.querySelector(sel);
    const $$ = (sel, ctx=document)=>Array.from(ctx.querySelectorAll(sel));

    // Announcement bar logic
    (function(){
      const messages = [
        "üîí Secure & Confidential Analysis.",
        "üîí Your data is encrypted and never stored.",
        "ü§ñ Powered by Advanced AI.",
        "ü§ñ Get precise, instant skin health insights.",
        "üåø Receive Personalized Ayurvedic Solutions.",
        "üåø Natural remedies tailored for you.",
        "‚ú® Facial Analysis is Free.",
        "‚ú® Understand your skin without any cost."
      ];
      let idx = 0, timer = null, paused=false;
      const textEl = $("#annText");
      const prev = $("#annPrev");
      const next = $("#annNext");
      const bar = $("#annBar");

      function render(nextIdx, dir=1){
        // Animate out then in
        textEl.style.opacity= "0";
        textEl.style.transform = `translateY(${dir>0?8:-8}px)`;
        setTimeout(()=>{
          idx = (nextIdx + messages.length) % messages.length;
          textEl.textContent = messages[idx];
          textEl.style.opacity= "1";
          textEl.style.transform = "translateY(0)";
        },180);
      }
      function advance(step=1){ render(idx + step, step); }
      function play(){
        if(timer) clearInterval(timer);
        timer = setInterval(()=>{ if(!paused) advance(1); }, 3000);
      }
      prev.addEventListener("click", ()=>advance(-1));
      next.addEventListener("click", ()=>advance(1));
      bar.addEventListener("mouseenter", ()=>{paused=true;});
      bar.addEventListener("mouseleave", ()=>{paused=false;});
      play();
    })();

    // Header interactions
    (function(){
      const header = $("#header");
      const onScroll = ()=>{
        if(window.scrollY>6) header.classList.add("scrolled");
        else header.classList.remove("scrolled");
      };
      document.addEventListener("scroll", onScroll); onScroll();

      // Mega menu hover with slight delay
      const trigger = $("#megaTrigger");
      const menu = $("#megaMenu");
      const wrap = $("#megaWrap");
      let open=false, hover=false, delay;

      function setOpen(v){
        open = v;
        trigger.setAttribute("aria-expanded", v?"true":"false");
        if(v){ menu.classList.add("open"); }
        else { menu.classList.remove("open"); }
      }

      wrap.addEventListener("mouseenter", ()=>{
        hover=true;
        if(delay) clearTimeout(delay);
        delay = setTimeout(()=>{ if(hover) setOpen(true); }, 100);
      });
      wrap.addEventListener("mouseleave", ()=>{
        hover=false;
        if(delay) clearTimeout(delay);
        delay = setTimeout(()=>{ if(!hover) setOpen(false); }, 120);
      });
      trigger.addEventListener("click", (e)=>{
        e.preventDefault();
        setOpen(!open);
      });
    })();

    // Mobile drawer + accordion
    (function(){
      const hamburger = $("#hamburger");
      const drawer = $("#mobileDrawer");
      const closeBtn = $("#drawerClose");
      const body = document.body;
      function setDrawer(open){
        drawer.classList.toggle("open", open);
        drawer.setAttribute("aria-hidden", open?"false":"true");
        hamburger.setAttribute("aria-expanded", open?"true":"false");
        body.style.overflow = open ? "hidden" : "";
      }
      hamburger.addEventListener("click", ()=> setDrawer(!drawer.classList.contains("open")));
      closeBtn.addEventListener("click", ()=> setDrawer(false));
      // Close when clicking a link
      $$("#mobileDrawer a").forEach(a=>a.addEventListener("click", ()=> setDrawer(false)));

      // Accordion
      $$(".acc-head").forEach(head=>{
        head.addEventListener("click", ()=>{
          const id = "acc-" + head.dataset.acc;
          const body = $("#"+id);
          body.classList.toggle("open");
        });
      });
    })();

    // CTA scroll to panel
    (function(){
      const ctas = ["#ctaTop","#ctaMobile"].map(id=>$(id)).filter(Boolean);
      ctas.forEach(btn=> btn.addEventListener("click", ()=>{
        $("#analyzePanel").scrollIntoView({behavior:"smooth", block:"center"});
      }));
    })();

    // Upload + analyze simulation
    (function(){
      const dz = $("#dropzone");
      const input = $("#fileInput");
      const choose = $("#chooseBtn");
      const preview = $("#preview");
      const img = $("#previewImg");
      const clearBtn = $("#clearBtn");
      const analyzeBtn = $("#analyzeBtn");
      const progress = $("#progress");
      const bar = $("#bar");
      const card = $("#resultCard");
      const chips = $("#summaryChips");
      const insights = $("#insightsList");
      const ayur = $("#ayurvedaList");
      const products = $("#products");

      function reset(){
        input.value="";
        preview.style.display="none";
        img.src="";
        bar.style.width="0%";
        progress.style.display="none";
        card.style.display="none";
      }
      function showPreview(file){
        const url = URL.createObjectURL(file);
        img.src = url;
        preview.style.display="grid";
      }
      function pick(e){ input.click(); }
      choose.addEventListener("click", pick);

      input.addEventListener("change", (e)=>{
        const file = e.target.files && e.target.files[0];
        if(!file) return;
        if(!file.type.startsWith("image/")){
          alert("Please select an image file.");
          input.value="";
          return;
        }
        showPreview(file);
      });

      // Drag & Drop
      ["dragenter","dragover"].forEach(evt=>{
        dz.addEventListener(evt, (e)=>{ e.preventDefault(); e.stopPropagation(); dz.classList.add("drag"); });
      });
      ["dragleave","drop"].forEach(evt=>{
        dz.addEventListener(evt, (e)=>{ e.preventDefault(); e.stopPropagation(); dz.classList.remove("drag"); });
      });
      dz.addEventListener("drop", (e)=>{
        const file = e.dataTransfer.files && e.dataTransfer.files[0];
        if(file && file.type.startsWith("image/")){ input.files = e.dataTransfer.files; showPreview(file); }
      });

      clearBtn.addEventListener("click", reset);

      function simulateProgress(ms){
        return new Promise((resolve)=>{
          progress.style.display="block";
          let elapsed=0, dur=ms, step=100;
          const timer = setInterval(()=>{
            elapsed+=step;
            const pct = Math.min(100, Math.round((elapsed/dur)*100));
            bar.style.width = pct+"%";
            if(pct>=100){ clearInterval(timer); setTimeout(resolve, 250); }
          }, step);
        });
      }

      function randomIn(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

      function generateResult(){
        // Pseudo-analysis: generate plausible, bounded values
        const pimples = randomIn(0, 12);
        const blackheads = randomIn(0, 20);
        const darkSpots = randomIn(0, 8);
        const texture = randomIn(0, 10); // higher = rougher
        const severity = pimples + Math.round(blackheads/2) + darkSpots + Math.round(texture/2);

        let level = "Low";
        if(severity>12 && severity<=24) level="Moderate";
        else if(severity>24) level="High";

        return { pimples, blackheads, darkSpots, texture, level };
      }

      function renderResults(r){
        // Chips
        chips.innerHTML = "";
        const chipData = [
          {label:"Pimples", val:r.pimples},
          {label:"Blackheads", val:r.blackheads},
          {label:"Dark spots", val:r.darkSpots},
          {label:"Texture score", val:r.texture+"/10"},
          {label:"Overall", val:r.level}
        ];
        chipData.forEach(c=>{
          const el = document.createElement("div");
          el.className="chip";
          el.textContent = `${c.label}: ${c.val}`;
          chips.appendChild(el);
        });

        // Insights shortlist
        insights.innerHTML="";
        const items = [];
        if(r.pimples>=8) items.push("Frequent active pimples‚Äîfocus on gentle cleansing and spot care.");
        else if(r.pimples>=4) items.push("Some active pimples‚Äîkeep routine simple and consistent.");
        else items.push("Few active pimples‚Äîmaintain routine to prevent new breakouts.");

        if(r.blackheads>=12) items.push("Visible blackheads‚Äîweekly exfoliation can help keep pores clear.");
        else if(r.blackheads>=5) items.push("Mild blackheads‚Äîlight exfoliation and non-comedogenic products recommended.");

        if(r.darkSpots>=5) items.push("Notable dark spots‚Äîcombine sun protection with brightening care.");
        else if(r.darkSpots>=2) items.push("Mild dark spots‚Äîsteady use of brightening ingredients aids fading.");

        if(r.texture>=7) items.push("Texture is slightly rough‚Äîregular hydration and barrier support can smooth it.");
        else if(r.texture>=4) items.push("Minor texture‚Äîkeep skin hydrated and avoid over-exfoliation.");

        items.slice(0,4).forEach(t=>{
          const li = document.createElement("li");
          li.textContent = t;
          insights.appendChild(li);
        });

        // Ayurvedic tips
        ayur.innerHTML = "";
        const tips = [
          "Neem + turmeric paste (thin) on pimples for 10‚Äì15 min, 2‚Äì3√ó/week.",
          "Aloe vera gel (pure) as a light moisturizer to calm redness.",
          "Sandalwood + rose water spot application for dark marks (evenings).",
          "Honey mask (unprocessed) 10 min for gentle antimicrobial care.",
          "Cumin‚Äìcoriander‚Äìfennel tea warm, 1 cup/day to support balance.",
          "Sesame oil gentle massage 2‚Äì3 min before cleanser to soften debris."
        ];
        // Pick based on needs
        const sel = [];
        if(r.pimples>0) sel.push(tips[0], tips[3]);
        if(r.darkSpots>0) sel.push(tips[2]);
        if(r.texture>=4) sel.push(tips[1], tips[5]);
        if(sel.length<3) sel.push(tips[4]);
        [...new Set(sel)].slice(0,4).forEach(t=>{
          const li = document.createElement("li");
          li.textContent = t;
          ayur.appendChild(li);
        });

        // Products
        products.innerHTML="";
        const catalog = [
          {name:"Gentle Gel Cleanser", tag:"Cleanser", for:["pimples","blackheads"]},
          {name:"2% Salicylic Acid Serum", tag:"Exfoliant", for:["blackheads","pimples"]},
          {name:"5% Niacinamide Serum", tag:"Serum", for:["pimples","spots","texture"]},
          {name:"10% Azelaic Acid Cream", tag:"Treatment", for:["spots","pimples"]},
          {name:"Vitamin C 10% Serum", tag:"Brightening", for:["spots"]},
          {name:"SPF 50 PA++++ Sunscreen", tag:"Sunscreen", for:["spots","texture"]},
          {name:"Ceramide Moisturizer", tag:"Barrier", for:["texture","pimples"]}
        ];
        const needs = new Set();
        if(r.pimples>0) needs.add("pimples");
        if(r.blackheads>0) needs.add("blackheads");
        if(r.darkSpots>0) needs.add("spots");
        if(r.texture>=4) needs.add("texture");

        const picks = catalog.filter(p=>p.for.some(f=>needs.has(f))).slice(0,4);
        picks.forEach(p=>{
          const item = document.createElement("div");
          item.className="prod";
          item.innerHTML = `
            <div class="tag">${p.tag}</div>
            <div>
              <div style="font-weight:700">${p.name}</div>
              <div class="muted">Chosen for ${p.for.filter(f=>needs.has(f)).join(", ")}.</div>
            </div>
          `;
          products.appendChild(item);
        });

        card.style.display="block";
        card.scrollIntoView({behavior:"smooth", block:"nearest"});
      }

      analyzeBtn.addEventListener("click", async ()=>{
        if(!input.files || !input.files[0]){
          alert("Please upload a face photo first.");
          return;
        }
        card.style.display="none";
        await simulateProgress(1600 + Math.random()*900);
        const result = generateResult();
        renderResults(result);
      });
    })();




































    // Footer year
    (function(){
      $("#year").textContent = new Date().getFullYear();
    })();










    







document.addEventListener('DOMContentLoaded', function() {
            // Check if elements are in viewport for animation
            function checkVisibility() {
                const elements = document.querySelectorAll('.fade-in');
                
                elements.forEach(element => {
                    const elementPosition = element.getBoundingClientRect().top;
                    const screenPosition = window.innerHeight / 1.3;
                    
                    if (elementPosition < screenPosition) {
                        element.style.animationPlayState = 'running';
                    }
                });
            }
            
            // Run on load and scroll
            window.addEventListener('load', checkVisibility);
            window.addEventListener('scroll', checkVisibility);
            
            // Initially trigger animations for elements already in view
            checkVisibility();
        });





    </script>
</body>

</html>
